
{% extends "base.html" %}

{% block title %}–°–ø–∞—Å–∏–±–æ! - –û–ø—Ä–æ—Å –∑–∞–≤–µ—Ä—à–µ–Ω{% endblock %}

{% block nav %}
  <a href="/">–ì–ª–∞–≤–Ω–∞—è</a>
  {% if user.is_authenticated %}
    <a href="/dashboard/project/">–ú–æ–∏ –æ–ø—Ä–æ—Å—ã</a>
  {% endif %}
{% endblock %}

{% block content %}
  <div class="min-h-screen flex items-center justify-center p-6">
    <div class="bg-white rounded-3xl shadow-2xl p-10 max-w-2xl w-full text-center border border-emerald-100">
      <!-- –ò–∫–æ–Ω–∫–∞ —É—Å–ø–µ—Ö–∞ -->
      <div class="w-20 h-20 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
        <i class="fas fa-check-circle text-6xl text-emerald-600"></i>
      </div>
    <h1 class="text-4xl font-extrabold text-gray-800 mb-4">–°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ç–≤–µ—Ç—ã!</h1>
      <p class="text-lg text-gray-600 mb-8 max-w-md mx-auto">
        –í–∞—à–∏ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ–ø—Ä–æ—Å <strong>¬´{{ poll.title }}¬ª</strong> —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã.
      </p>


    <!-- üîπ –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¢–û–õ–¨–ö–û –µ—Å–ª–∏ —ç—Ç–æ —Ç–µ—Å—Ç –∏ –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π -->
    {% if has_test_questions and submission and submission.total > 0 %}
      <div style="border: 1px solid var(--success); border-radius: 0.5rem; padding: 1.25rem; margin-bottom: 2rem;">
        <div style="font-size: 1.5rem; font-weight: bold; color: var(--success);">
          {{ submission.score }} –∏–∑ {{ submission.total }}
        </div>
        <div style="color: var(--text-light); margin-top: 0.5rem;">
          {% if submission.score == submission.total %}
          {% elif submission.score >= submission.total|floatformat:"0"|divisibleby:2 %}
          {% endif %}
        </div>
      </div>
    {% endif %}

      <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞ –≥–ª–∞–≤–Ω—É—é -->
      <div class="pt-4">
        <a href="{% url 'polls:index' %}"
           class="group inline-flex items-center gap-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white font-semibold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 focus:outline-none">
          <i class="fas fa-home group-hover:rotate-12 transition-transform"></i>
          <span>–ù–∞ –≥–ª–∞–≤–Ω—É—é</span>
        </a>
      </div>

      <!-- –¢–µ–∫—Å—Ç –≤–Ω–∏–∑—É -->
      <p class="text-sm text-gray-400 mt-8">
        –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –≤–∞—Å —á–µ—Ä–µ–∑ 15 —Å–µ–∫—É–Ω–¥.
      </p>
    </div>
  </div>

  <!-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
  <script>
    setTimeout(() => {
      window.location.href = "{% url 'polls:index' %}";
    }, 15000);
  </script>
{% endblock %}