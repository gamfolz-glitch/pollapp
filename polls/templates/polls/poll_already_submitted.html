{% extends "base.html" %}

{% block title %}Опрос уже пройден — {{ poll.title }}{% endblock %}

{% block content %}
  <div class="min-h-screen flex items-center justify-center p-6">
    <div class="bg-white rounded-3xl shadow-2xl p-10 max-w-2xl w-full text-center border border-red-100 transition-transform duration-300 hover:shadow-3xl">
      
      <!-- Иконка блокировки -->
      <div class="w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
        <i class="fas fa-ban text-6xl text-red-600"></i>
      </div>

      <!-- Заголовок -->
      <h1 class="text-4xl font-extrabold text-gray-800 mb-4 leading-tight">
        Опрос уже пройден
      </h1>
      <p class="text-lg text-gray-600 mb-8 max-w-md mx-auto leading-relaxed">
        Вы уже прошли опрос <strong>«{{ poll.title }}»</strong>.
      </p>

      <!-- Уведомление о запрете -->
      <div class="bg-red-50 rounded-2xl p-6 mb-8 border border-red-200 mx-auto max-w-xl">
        <h2 class="text-xl font-bold text-gray-800 mb-4 flex items-center justify-center gap-3">
          <i class="fas fa-times-circle text-red-500"></i>
          Повторный ответ недоступен
        </h2>
        <p class="text-sm text-gray-600 leading-relaxed">
        Повторное прохождение <strong>запрещено</strong>.
        </p>
      </div>

      <!-- Кнопка на главную -->
      <div class="pt-4">
        <a href="{% url 'polls:index' %}"
           class="group inline-flex items-center gap-3 bg-gradient-to-r from-red-500 to-red-600 text-white font-semibold py-4 px-8 rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 focus:outline-none focus:ring-4 focus:ring-red-300">
          <i class="fas fa-home group-hover:rotate-12 transition-transform duration-300"></i>
          <span>На главную</span>
        </a>
      </div>

      <!-- Текст внизу -->
      <p class="text-sm text-gray-400 mt-8 transition-opacity duration-300">
        Страница автоматически перенаправит вас через <span class="font-medium text-gray-500">15</span> секунд.
      </p>
    </div>
  </div>

  <!-- Автоматическое перенаправление -->
  <script>
    setTimeout(() => {
      window.location.href = "{% url 'polls:index' %}";
    }, 15000);
  </script>
{% endblock %}