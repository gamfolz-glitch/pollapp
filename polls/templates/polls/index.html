{% extends "base.html" %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è - –°–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–æ—Å–æ–≤{% endblock %}

{% block content %}
  <div class="card" style="text-align: center; padding: 3rem 2rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; margin-bottom: 2rem;">
    <h1 style="color: white; margin-bottom: 1rem; font-size: 2.5rem;"> –°–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–æ—Å–æ–≤</h1>
    <p style="font-size: 1.25rem; opacity: 0.95; margin-bottom: 2rem;">
      –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ–ø—Ä–æ—Å—ã, —Å–æ–±–∏—Ä–∞–π—Ç–µ –æ—Ç–≤–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    </p>
    {% if not user.is_authenticated %}
      <div class="flex" style="justify-content: center; gap: 1rem;">
        <a href="/accounts/signup/" class="btn" style="background: white; color: #667eea; font-weight: 600;">
          üöÄ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
        </a>
        <a href="/accounts/login/" class="btn" style="background: rgba(255, 255, 255, 0.2); color: white; border: 2px solid white;">
          –í–æ–π—Ç–∏
        </a>
      </div>
    {% else %}
      <div class="flex" style="justify-content: center; gap: 1rem;">
        <a href="/dashboard/project/" class="btn" style="background: white; color: #667eea; font-weight: 600;">
           –ú–æ–∏ –æ–ø—Ä–æ—Å—ã
        </a>
        <a href="/dashboard/project/new/" class="btn" style="background: rgba(255, 255, 255, 0.2); color: white; border: 2px solid white;">
          ‚ûï –°–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å
        </a>
      </div>
    {% endif %}
  </div>

  <div class="card" style="max-width: 600px; margin: 0 auto;">
    <div style="text-align: center; margin-bottom: 2rem;">
      <h2 style="margin-bottom: 0.5rem;">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –æ–ø—Ä–æ—Å–∞</h2>
      <p style="color: var(--text-light);">
        –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–ø—Ä–æ—Å—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ
      </p>
    </div>

    <form method="get" action="/p/" id="poll-code-form">
      <div class="form-group" style="margin-bottom: 1.5rem;">
        <input 
          type="text" 
          id="code" 
          name="code" 
          placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: ABC123" 
          required 
          autofocus
          style="text-align: center; font-size: 1.5rem; font-weight: 600; letter-spacing: 0.1em; text-transform: uppercase;"
          maxlength="16"
        />
      </div>

      <button type="submit" class="btn btn-primary" style="width: 100%; font-size: 1.125rem; padding: 1rem;">
        ‚û° –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø—Ä–æ—Å—É
      </button>
    </form>
  </div>

  <div class="card" style="max-width: 600px; margin: 1.5rem auto 0; background: #f0f9ff; border-left: 4px solid var(--primary);">
    <h3 style="margin-bottom: 0.5rem; font-size: 1rem;">üí° –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</h3>
    <ul style="margin-left: 1.5rem; color: var(--text-light); line-height: 1.8;">
      <li>–ü–æ–ª—É—á–∏—Ç–µ –∫–æ–¥ –æ–ø—Ä–æ—Å–∞ –æ—Ç –µ–≥–æ —Å–æ–∑–¥–∞—Ç–µ–ª—è</li>
      <li>–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –≤ —Ñ–æ—Ä–º—É –≤—ã—à–µ</li>
      <li>–ù–∞—á–Ω–∏—Ç–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –æ–ø—Ä–æ—Å–∞</li>
      {% if user.is_authenticated %}
        <li>–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –æ–ø—Ä–æ—Å –≤ <a href="/dashboard/project/" style="color: var(--primary); font-weight: 600;">–ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</a></li>
      {% else %}
        <li><a href="/accounts/signup/" style="color: var(--primary); font-weight: 600;">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</a>, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ –æ–ø—Ä–æ—Å—ã</li>
      {% endif %}
    </ul>
  </div>

  <script>
    document.getElementById('poll-code-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const code = document.getElementById('code').value.trim().toUpperCase();
      if (code) {
        window.location.href = '/p/' + code + '/';
      }
    });

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤–≤–æ–¥ –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä
    document.getElementById('code').addEventListener('input', function(e) {
      e.target.value = e.target.value.toUpperCase();
    });
  </script>
{% endblock %}
