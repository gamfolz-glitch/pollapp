{% extends "dashboard/base.html" %}

{% block dashboard_title %}{{ title }}{% endblock %}

{% block content %}
  <!-- –ù–∞–∑–∞–¥ -->
  {% if poll %}
    <a href="/dashboard/project/{{ poll.id }}/" class="btn btn-outline" style="margin-bottom: 1rem; font-size: 0.875rem;">
      ‚Üê –ù–∞–∑–∞–¥ –∫ –æ–ø—Ä–æ—Å—É
    </a>
  {% else %}
    <a href="/dashboard/project/" class="btn btn-outline" style="margin-bottom: 1rem; font-size: 0.875rem;">
      ‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É
    </a>
  {% endif %}

  <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ —Ü–µ–Ω—Ç—Ä—É -->
  <div style="text-align: center; margin-bottom: 1.75rem;">
    <h1 style="margin: 0 0 0.5rem; font-size: 1.875rem; font-weight: 600; color: var(--text);">
      {{ title }}
    </h1>
    <p class="text-muted" style="margin: 0; font-size: 1.05rem; opacity: 0.9;">
      {% if poll %}
        –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: <strong>{{ poll.title }}</strong>
      {% else %}
        –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –æ–ø—Ä–æ—Å –∏ –∑–∞–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å
      {% endif %}
    </p>
  </div>

  <!-- –§–æ—Ä–º–∞ -->
  <div class="card" style="max-width: 680px; margin: 0 auto; padding: 2rem; border-radius: 0.75rem; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);">
    <form method="post">
      {% csrf_token %}

      <!-- –ë–ª–æ–∫ –æ—à–∏–±–æ–∫ -->
      {% if form.errors %}
        <div style="background: #fef6f6; border: 1px solid #f8d7da; color: #721c24; border-radius: 0.5rem; padding: 1rem; margin-bottom: 1.5rem; font-size: 0.95rem;">
          <strong style="display: block; margin-bottom: 0.5rem;">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏:</strong>
          <ul style="margin: 0; padding-left: 1.25rem;">
            {% for field in form %}
              {% for error in field.errors %}
                <li><strong>{{ field.label }}</strong> ‚Äî {{ error }}</li>
              {% endfor %}
            {% endfor %}
          </ul>
        </div>
      {% endif %}

      <!-- –ü–æ–ª–µ: –ù–∞–∑–≤–∞–Ω–∏–µ -->
      <div class="form-group" style="margin-bottom: 1.5rem;">
        <label for="{{ form.title.id_for_label }}" style="display: block; margin-bottom: 0.6rem; font-weight: 500; font-size: 1.125rem; color: var(--text);">–ù–∞–∑–≤–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞</label>
        {{ form.title }}
        {% if form.title.help_text %}
          <small class="text-muted" style="display: block; margin-top: 0.4rem; font-size: 0.85rem;">{{ form.title.help_text }}</small>
        {% endif %}
      </div>

      <!-- –ü–æ–ª–µ: –û–ø–∏—Å–∞–Ω–∏–µ -->
      <div class="form-group" style="margin-bottom: 1.5rem;">
        <label for="{{ form.description.id_for_label }}" style="display: block; margin-bottom: 0.6rem; font-weight: 500; font-size: 1.125rem; color: var(--text);">–û–ø–∏—Å–∞–Ω–∏–µ</label>
        {{ form.description }}
        {% if form.description.help_text %}
          <small class="text-muted" style="display: block; margin-top: 0.4rem; font-size: 0.85rem;">{{ form.description.help_text }}</small>
        {% endif %}
      </div>

      <!-- –ö–Ω–æ–ø–∫–∏ -->
      <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 1.5rem; flex-wrap: wrap;">
        <button type="submit" class="btn btn-primary" style="padding: 0.75rem 1.5rem; font-size: 1rem; font-weight: 500; display: flex; align-items: center; gap: 0.5rem;">
          <span>üíæ</span> <span>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–ø—Ä–æ—Å</span>
        </button>
        <a href="/dashboard/project/" class="btn btn-secondary" style="padding: 0.75rem 1.5rem; font-size: 1rem; font-weight: 500;">–û—Ç–º–µ–Ω–∞</a>
      </div>
    </form>
  </div>
{% endblock %}