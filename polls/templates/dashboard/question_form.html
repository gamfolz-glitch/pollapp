{% extends "dashboard/base.html" %}

{% block dashboard_title %}{{ title }}{% endblock %}

{% block content %}
  <!-- –ù–∞–∑–∞–¥ -->
  <a href="/dashboard/project/{{ poll.id }}/" class="btn btn-outline" style="margin-bottom: 1.5rem; font-size: 0.875rem;">
    ‚Üê –ù–∞–∑–∞–¥ –∫ –æ–ø—Ä–æ—Å—É
  </a>

  <!-- –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ -->
  <div style="text-align: center; margin-bottom: 1.5rem;">
    <h1 style="margin: 0 0 0.75rem; font-size: 1.75rem; font-weight: 600; color: var(--text);">
      {{ title }}
    </h1>
    <p class="text-muted" style="margin: 0; font-size: 1rem;">
      –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ –≤ –æ–ø—Ä–æ—Å: <strong>{{ poll.title }}</strong>
    </p>
  </div>

  <!-- –§–æ—Ä–º–∞ -->
  <div class="card" style="max-width: 720px; margin: 0 auto; padding: 1.75rem;">
    <form method="post">
      {% csrf_token %}

      <!-- –û—à–∏–±–∫–∏ -->
      {% if form.errors %}
        <div class="form-errors" style="background: #fdf6f6; border: 1px solid #efcccc; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1.5rem;">
          <strong style="color: #d32f2f; display: block; margin-bottom: 0.5rem;">–ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏:</strong>
          <ul style="margin: 0; padding-left: 1.25rem; color: #c00; font-size: 0.9rem;">
            {% for field in form %}
              {% for error in field.errors %}
                <li><strong>{{ field.label }}:</strong> {{ error }}</li>
              {% endfor %}
            {% endfor %}
            {% for error in form.non_field_errors %}
              <li>{{ error }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}

      <!-- –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞ -->
      <div class="form-group" style="margin-bottom: 1.5rem;">
        <label for="{{ form.text.id_for_label }}" style="display: block; margin-bottom: 0.5rem; font-weight: 500; font-size: 1.125rem; color: var(--text);">
          –¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞ *
        </label>
        {{ form.text }}
        {% if form.text.help_text %}
          <small class="text-muted" style="display: block; margin-top: 0.375rem; font-size: 0.875rem;">
            {{ form.text.help_text }}
          </small>
        {% endif %}
      </div>

      <!-- –¢–∏–ø –≤–æ–ø—Ä–æ—Å–∞ -->
      <div class="form-group" style="margin-bottom: 1.5rem;">
        <label for="{{ form.kind.id_for_label }}" style="display: block; margin-bottom: 0.5rem; font-weight: 500; font-size: 1.125rem; color: var(--text);">
          –¢–∏–ø –≤–æ–ø—Ä–æ—Å–∞ *
        </label>
        {{ form.kind }}
        <small class="text-muted" style="display: block; margin-top: 0.375rem; font-size: 0.875rem; line-height: 1.5;">
          <strong>–¢–µ–∫—Å—Ç</strong> ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç.<br>
          <strong>–û–¥–∏–Ω–æ—á–Ω—ã–π –≤—ã–±–æ—Ä</strong> ‚Äî –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç.<br>
          <strong>–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä</strong> ‚Äî –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.
        </small>
      </div>

      <!-- –ü–æ—Ä—è–¥–æ–∫ -->
      <div class="form-group" style="margin-bottom: 1.5rem;">
        <label for="{{ form.order.id_for_label }}" style="display: block; margin-bottom: 0.5rem; font-weight: 500; font-size: 1.125rem; color: var(--text);">
          –ü–æ—Ä—è–¥–æ–∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        </label>
        <input
          type="number"
          name="{{ form.order.html_name }}"
          id="{{ form.order.id_for_label }}"
          value="{{ form.order.value|default:1 }}"
          class="form-control"
          min="1"
          required
        >
        <small class="text-muted" style="display: block; margin-top: 0.375rem; font-size: 0.875rem;">
          –ß–µ–º –º–µ–Ω—å—à–µ —á–∏—Å–ª–æ, —Ç–µ–º –≤—ã—à–µ –≤–æ–ø—Ä–æ—Å –≤ –æ–ø—Ä–æ—Å–µ. –ù—É–º–µ—Ä–∞—Ü–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å <strong>1</strong>.
        </small>
      </div>
      <!-- –¢–µ—Å—Ç–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å -->
      <div class="form-group" style="margin-bottom: 1.5rem; padding: 1rem; border: 2px solid #e2e8f0; border-radius: 0.5rem; background: #f8fafc;">
        <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
          <label for="{{ form.is_test_question.id_for_label }}" style="font-weight: 600; font-size: 1.125rem; color: #1e293b;">
            üß™ –¢–µ—Å—Ç–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å
          </label>
          {{ form.is_test_question }}
        </div>
        <small class="text-muted" style="display: block; font-size: 0.875rem; line-height: 1.5;">
          –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ ‚Äî –ø—Ä–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ –æ–ø—Ä–æ—Å–∞ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å—Å—è, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –æ—Ç–≤–µ—Ç–∏–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.<br>
          <strong>–í–∞–∂–Ω–æ:</strong> —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–æ–≤ (¬´–û–¥–∏–Ω¬ª –∏–ª–∏ ¬´–ù–µ—Å–∫–æ–ª—å–∫–æ¬ª).<br>
          –î–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞.
        </small>
      </div>

      <!-- –ö–Ω–æ–ø–∫–∏ -->
      <div class="form-actions" style="display: flex; gap: 1rem; margin-top: 2rem; justify-content: center;">
        <button type="submit" class="btn btn-primary" style="display: flex; align-items: center; gap: 0.5rem; font-size: 1rem; padding: 0.75rem 1.25rem;">
          üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–æ–ø—Ä–æ—Å
        </button>
        <a href="/dashboard/project/{{ poll.id }}/" class="btn btn-secondary" style="font-size: 1rem; padding: 0.75rem 1.25rem;">
          –û—Ç–º–µ–Ω–∞
        </a>
      </div>
    </form>
  </div>
{% endblock %}